Related issue on GraalVM bugtracker: [graal#808](https://github.com/oracle/graal/issues/808).

In a normal JVM:

```
In regular JVM
ERROR StatusLogger No Log4j 2 configuration file found. Using default configuration (logging only errors to the console), or user programmatically provided configurations. Set system property 'log4j2.debug' to show Log4j 2 internal initialization logging. See https://logging.apache.org/log4j/2.x/manual/configuration.html for instructions on how to configure Log4j 2
16:07:03.828 [main] ERROR com.sample.App - Hello
```

It does not compile with native image:
```
[com.sample.app:9202]     analysis:  29,618.06 ms
Error: Error encountered while parsing com.oracle.svm.core.deopt.DeoptimizationSupport.get() 
Parsing context:
	parsing com.oracle.svm.core.deopt.DeoptimizationSupport.getDeoptStubPointer(DeoptimizationSupport.java:71)
	parsing com.oracle.svm.core.deopt.Deoptimizer.<init>(Deoptimizer.java:424)
	parsing com.oracle.svm.core.stack.SubstrateInspectedFrame.getDeoptimizer(SubstrateStackIntrospection.java:205)
	parsing com.oracle.svm.core.stack.SubstrateInspectedFrame.getLocalConstant(SubstrateStackIntrospection.java:235)
	parsing com.oracle.svm.core.stack.SubstrateInspectedFrame.toString(SubstrateStackIntrospection.java:362)
	parsing java.lang.String.valueOf(String.java:2994)
	parsing java.lang.StringBuilder.append(StringBuilder.java:131)
	parsing org.slf4j.LoggerFactory.reportMultipleBindingAmbiguity(LoggerFactory.java:328)
	parsing org.slf4j.LoggerFactory.bind(LoggerFactory.java:147)
	parsing org.slf4j.LoggerFactory.performInitialization(LoggerFactory.java:124)
	parsing org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:412)
	parsing org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:357)
	parsing org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:383)
	parsing com.sample.App.main(App.java:9)
	parsing com.oracle.svm.core.JavaMainWrapper.run(JavaMainWrapper.java:152)
	parsing com.oracle.svm.core.code.IsolateEnterStub.JavaMainWrapper_run_5087f5482cc9a6abc971913ece43acb471d2631b(generated:0)
Original error: com.oracle.svm.core.util.UserError$UserException: ImageSingletons do not contain key com.oracle.svm.core.deopt.DeoptimizationSupport
	at com.oracle.svm.core.util.UserError.abort(UserError.java:67)
	at com.oracle.svm.hosted.ImageSingletonsSupportImpl$HostedManagement.doLookup(ImageSingletonsSupportImpl.java:110)
	at com.oracle.svm.hosted.ImageSingletonsSupportImpl.lookup(ImageSingletonsSupportImpl.java:44)
	at org.graalvm.nativeimage.ImageSingletons.lookup(ImageSingletons.java:85)
	at com.oracle.svm.hosted.snippets.SubstrateGraphBuilderPlugins$44.apply(SubstrateGraphBuilderPlugins.java:826)
	at org.graalvm.compiler.nodes.graphbuilderconf.InvocationPlugin.execute(InvocationPlugin.java:208)
	at org.graalvm.compiler.java.BytecodeParser.tryInvocationPlugin(BytecodeParser.java:2185)
	at com.oracle.svm.hosted.phases.AnalysisGraphBuilderPhase$AnalysisBytecodeParser.tryInvocationPlugin(AnalysisGraphBuilderPhase.java:68)
	at org.graalvm.compiler.java.BytecodeParser.appendInvoke(BytecodeParser.java:1716)
	at org.graalvm.compiler.java.BytecodeParser.genInvokeStatic(BytecodeParser.java:1475)
	at org.graalvm.compiler.java.BytecodeParser.genInvokeStatic(BytecodeParser.java:1455)
	at org.graalvm.compiler.java.BytecodeParser.processBytecode(BytecodeParser.java:5020)
	at org.graalvm.compiler.java.BytecodeParser.iterateBytecodesForBlock(BytecodeParser.java:3184)
	at org.graalvm.compiler.java.BytecodeParser.processBlock(BytecodeParser.java:2993)
	at org.graalvm.compiler.java.BytecodeParser.build(BytecodeParser.java:890)
	at org.graalvm.compiler.java.BytecodeParser.buildRootMethod(BytecodeParser.java:784)
	at org.graalvm.compiler.java.GraphBuilderPhase$Instance.run(GraphBuilderPhase.java:95)
	at org.graalvm.compiler.phases.Phase.run(Phase.java:49)
	at org.graalvm.compiler.phases.BasePhase.apply(BasePhase.java:197)
	at org.graalvm.compiler.phases.Phase.apply(Phase.java:42)
	at org.graalvm.compiler.phases.Phase.apply(Phase.java:38)
	at com.oracle.graal.pointsto.flow.MethodTypeFlowBuilder.parse(MethodTypeFlowBuilder.java:205)
	at com.oracle.graal.pointsto.flow.MethodTypeFlowBuilder.apply(MethodTypeFlowBuilder.java:324)
	at com.oracle.graal.pointsto.flow.MethodTypeFlow.doParse(MethodTypeFlow.java:310)
	at com.oracle.graal.pointsto.flow.MethodTypeFlow.ensureParsed(MethodTypeFlow.java:300)
	at com.oracle.graal.pointsto.flow.MethodTypeFlow.addContext(MethodTypeFlow.java:107)
	at com.oracle.graal.pointsto.flow.StaticInvokeTypeFlow.update(InvokeTypeFlow.java:346)
	at com.oracle.graal.pointsto.BigBang$2.run(BigBang.java:508)
	at com.oracle.graal.pointsto.util.CompletionExecutor.lambda$execute$0(CompletionExecutor.java:174)
	at java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1402)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)
	at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)
	at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)

com.oracle.graal.pointsto.util.AnalysisError$ParsingError: Error encountered while parsing com.oracle.svm.core.deopt.DeoptimizationSupport.get() 
Parsing context:
	parsing com.oracle.svm.core.deopt.DeoptimizationSupport.getDeoptStubPointer(DeoptimizationSupport.java:71)
	parsing com.oracle.svm.core.deopt.Deoptimizer.<init>(Deoptimizer.java:424)
	parsing com.oracle.svm.core.stack.SubstrateInspectedFrame.getDeoptimizer(SubstrateStackIntrospection.java:205)
	parsing com.oracle.svm.core.stack.SubstrateInspectedFrame.getLocalConstant(SubstrateStackIntrospection.java:235)
	parsing com.oracle.svm.core.stack.SubstrateInspectedFrame.toString(SubstrateStackIntrospection.java:362)
	parsing java.lang.String.valueOf(String.java:2994)
	parsing java.lang.StringBuilder.append(StringBuilder.java:131)
	parsing org.slf4j.LoggerFactory.reportMultipleBindingAmbiguity(LoggerFactory.java:328)
	parsing org.slf4j.LoggerFactory.bind(LoggerFactory.java:147)
	parsing org.slf4j.LoggerFactory.performInitialization(LoggerFactory.java:124)
	parsing org.slf4j.LoggerFactory.getILoggerFactory(LoggerFactory.java:412)
	parsing org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:357)
	parsing org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:383)
	parsing com.sample.App.main(App.java:9)
	parsing com.oracle.svm.core.JavaMainWrapper.run(JavaMainWrapper.java:152)
	parsing com.oracle.svm.core.code.IsolateEnterStub.JavaMainWrapper_run_5087f5482cc9a6abc971913ece43acb471d2631b(generated:0)
Original error: com.oracle.svm.core.util.UserError$UserException: ImageSingletons do not contain key com.oracle.svm.core.deopt.DeoptimizationSupport
	at com.oracle.svm.core.util.UserError.abort(UserError.java:67)
	at com.oracle.svm.hosted.ImageSingletonsSupportImpl$HostedManagement.doLookup(ImageSingletonsSupportImpl.java:110)
	at com.oracle.svm.hosted.ImageSingletonsSupportImpl.lookup(ImageSingletonsSupportImpl.java:44)
	at org.graalvm.nativeimage.ImageSingletons.lookup(ImageSingletons.java:85)
	at com.oracle.svm.hosted.snippets.SubstrateGraphBuilderPlugins$44.apply(SubstrateGraphBuilderPlugins.java:826)
	at org.graalvm.compiler.nodes.graphbuilderconf.InvocationPlugin.execute(InvocationPlugin.java:208)
	at org.graalvm.compiler.java.BytecodeParser.tryInvocationPlugin(BytecodeParser.java:2185)
	at com.oracle.svm.hosted.phases.AnalysisGraphBuilderPhase$AnalysisBytecodeParser.tryInvocationPlugin(AnalysisGraphBuilderPhase.java:68)
	at org.graalvm.compiler.java.BytecodeParser.appendInvoke(BytecodeParser.java:1716)
	at org.graalvm.compiler.java.BytecodeParser.genInvokeStatic(BytecodeParser.java:1475)
	at org.graalvm.compiler.java.BytecodeParser.genInvokeStatic(BytecodeParser.java:1455)
	at org.graalvm.compiler.java.BytecodeParser.processBytecode(BytecodeParser.java:5020)
	at org.graalvm.compiler.java.BytecodeParser.iterateBytecodesForBlock(BytecodeParser.java:3184)
	at org.graalvm.compiler.java.BytecodeParser.processBlock(BytecodeParser.java:2993)
	at org.graalvm.compiler.java.BytecodeParser.build(BytecodeParser.java:890)
	at org.graalvm.compiler.java.BytecodeParser.buildRootMethod(BytecodeParser.java:784)
	at org.graalvm.compiler.java.GraphBuilderPhase$Instance.run(GraphBuilderPhase.java:95)
	at org.graalvm.compiler.phases.Phase.run(Phase.java:49)
	at org.graalvm.compiler.phases.BasePhase.apply(BasePhase.java:197)
	at org.graalvm.compiler.phases.Phase.apply(Phase.java:42)
	at org.graalvm.compiler.phases.Phase.apply(Phase.java:38)
	at com.oracle.graal.pointsto.flow.MethodTypeFlowBuilder.parse(MethodTypeFlowBuilder.java:205)
	at com.oracle.graal.pointsto.flow.MethodTypeFlowBuilder.apply(MethodTypeFlowBuilder.java:324)
	at com.oracle.graal.pointsto.flow.MethodTypeFlow.doParse(MethodTypeFlow.java:310)
	at com.oracle.graal.pointsto.flow.MethodTypeFlow.ensureParsed(MethodTypeFlow.java:300)
	at com.oracle.graal.pointsto.flow.MethodTypeFlow.addContext(MethodTypeFlow.java:107)
	at com.oracle.graal.pointsto.flow.StaticInvokeTypeFlow.update(InvokeTypeFlow.java:346)
	at com.oracle.graal.pointsto.BigBang$2.run(BigBang.java:508)
	at com.oracle.graal.pointsto.util.CompletionExecutor.lambda$execute$0(CompletionExecutor.java:174)
	at java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1402)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)
	at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)
	at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)

	at com.oracle.graal.pointsto.util.AnalysisError.parsingError(AnalysisError.java:125)
	at com.oracle.graal.pointsto.flow.MethodTypeFlow.doParse(MethodTypeFlow.java:327)
	at com.oracle.graal.pointsto.flow.MethodTypeFlow.ensureParsed(MethodTypeFlow.java:300)
	at com.oracle.graal.pointsto.flow.MethodTypeFlow.addContext(MethodTypeFlow.java:107)
	at com.oracle.graal.pointsto.flow.StaticInvokeTypeFlow.update(InvokeTypeFlow.java:346)
	at com.oracle.graal.pointsto.BigBang$2.run(BigBang.java:508)
	at com.oracle.graal.pointsto.util.CompletionExecutor.lambda$execute$0(CompletionExecutor.java:174)
	at java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1402)
	at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)
	at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)
	at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)
	at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)
Error: Processing image build request failed
```

Tested with GraalVM 1.0.0 RC12.